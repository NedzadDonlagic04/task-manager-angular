<mat-toolbar class="app-toolbar mat-elevation-z4">
    <div class="toolbar-content container-fluid">
        <span class="app-title">OverEngineered Task Manager</span>
        <span class="flex-spacer"></span>

        <!-- Desktop Navigation -->
        <nav class="nav-buttons d-none d-md-flex align-items-center gap-2">
            @for (routerLink of routerLinks; track routerLink.path) { @if
            (routerLink.path !== "update/:id") {
            <button
                mat-flat-button
                color="accent"
                class="nav-btn button-custom-style"
                [routerLink]="'/' + routerLink.path"
            >
                {{ routerLink.title }}
            </button>
            } }

            <!-- Theme toggle -->
            <button
                mat-icon-button
                aria-label="Toggle dark mode"
                (click)="toggleDarkTheme()"
                class="theme-toggle"
            >
                <mat-icon>
                    {{ isDarkTheme ? 'brightness_7' : 'brightness_4' }}
                </mat-icon>
            </button>
        </nav>

        <!-- Mobile Hamburger -->
        <div class="d-flex d-md-none">
            <button
                mat-icon-button
                [matMenuTriggerFor]="mobileMenu"
                aria-label="Toggle menu"
            >
                <mat-icon>menu</mat-icon>
            </button>
        </div>
    </div>
</mat-toolbar>

<!-- Mobile Menu -->
<mat-menu #mobileMenu="matMenu" class="mobile-menu">
    @for (routerLink of routerLinks; track routerLink.path) { @if
    (routerLink.path !== "update/:id") {
    <button mat-menu-item [routerLink]="'/' + routerLink.path">
        {{ routerLink.title }}
    </button>
    } }
    <button mat-menu-item (click)="toggleDarkTheme()">
        <mat-icon>
            {{ isDarkTheme ? 'brightness_7' : 'brightness_4' }}
        </mat-icon>
        Toggle Theme
    </button>
</mat-menu>

<!-- Main content -->
<main class="main-content container mt-4">
    <router-outlet />
</main>

<!-- Footer -->
<footer class="app-footer text-center py-3 mt-auto">
    <div class="container">
        Â© 2025 Goofy little project by a couple of friends.<br />
        Built with Angular, Angular Material, Bootstrap, and a sprinkle of
        over-engineering.
    </div>
</footer>
